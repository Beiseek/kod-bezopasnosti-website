#!/bin/bash

echo "üí£ –¢–û–¢–ê–õ–¨–ù–ê–Ø –ü–ï–†–ï–î–ï–õ–ö–ê –ú–û–ë–ò–õ–¨–ù–û–ì–û –ú–ï–ù–Æ!"

# --- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ---
PROJECT_DIR="/var/www/kod-bezopasnosti"

echo "--- [–®–ê–ì 1/5] –û–°–¢–ê–ù–û–í–ö–ê –°–õ–£–ñ–ë ---"
supervisorctl stop kodbezopasnosti

echo "--- [–®–ê–ì 2/5] –ü–ï–†–ï–•–û–î –í –ü–ê–ü–ö–£ –ü–†–û–ï–ö–¢–ê ---"
cd $PROJECT_DIR

echo "--- [–®–ê–ì 3/5] –û–ë–ù–û–í–õ–ï–ù–ò–ï –ö–û–î–ê –ò–ó GITHUB ---"
git pull origin main

echo "--- [–®–ê–ì 4/5] –°–ë–û–†–ö–ê –°–¢–ê–¢–ò–ö–ò ---"
source venv/bin/activate
python manage.py collectstatic --noinput

echo "--- [–®–ê–ì 5/5] –ó–ê–ü–£–°–ö–ê–ï–ú –°–õ–£–ñ–ë–´ ---"
supervisorctl start kodbezopasnosti

echo "========================================================"
echo "‚úÖ –ú–û–ë–ò–õ–¨–ù–û–ï –ú–ï–ù–Æ –ü–û–õ–ù–û–°–¢–¨–Æ –ü–ï–†–ï–î–ï–õ–ê–ù–û!"
echo ""
echo "–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:"
echo "1. ‚úÖ HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–ø—Ä–æ—â–µ–Ω–∞ –¥–æ –ø—Ä–µ–¥–µ–ª–∞."
echo "2. ‚úÖ –í–µ—Å—å —Å—Ç–∞—Ä—ã–π, –º—É—Å–æ—Ä–Ω—ã–π CSS –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é –£–î–ê–õ–ï–ù."
echo "3. ‚úÖ –ù–∞–ø–∏—Å–∞–Ω –æ–¥–∏–Ω —á–∏—Å—Ç—ã–π –∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –±–ª–æ–∫ CSS."
echo "4. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω CSS –¥–æ –≤–µ—Ä—Å–∏–∏ 4.0."
echo ""
echo "–ü—Ä–æ–≤–µ—Ä—å –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º: üì± http://91.22M8/"
echo "–¢–µ–ø–µ—Ä—å –≤—Å–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —á–∞—Å—ã."
echo "========================================================"
